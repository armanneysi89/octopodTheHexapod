# =========================
# Console / Serial
# =========================
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# =========================
# GPIO / I2C / PWM
# =========================
CONFIG_GPIO=y
CONFIG_I2C=y
CONFIG_PWM=y
# CONFIG_PWM_PCA9685=y  # Commented out - needs device tree support

# =========================
# Logging
# =========================
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_BUFFER_SIZE=2048
CONFIG_WIFI_LOG_LEVEL_DBG=y
CONFIG_NET_CONFIG_LOG_LEVEL_DBG=y

# =========================
# Networking
# =========================
CONFIG_NETWORKING=y
CONFIG_NET_IPV4=y
CONFIG_NET_UDP=y
CONFIG_NET_TCP=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_MGMT=y
CONFIG_NET_DHCPV4=y
CONFIG_DNS_RESOLVER=y
CONFIG_NET_CONFIG_INIT_TIMEOUT=10
CONFIG_NET_LOG=y
CONFIG_NET_CONFIG_AUTO_INIT=n

# =========================
# WiFi (ESP32)
# =========================
CONFIG_WIFI=y
CONFIG_NET_L2_WIFI_MGMT=y
CONFIG_WIFI_INIT_PRIORITY=80
# ESP32 WiFi specific
CONFIG_ESP32_WIFI_STA_AUTO_DHCPV4=y
CONFIG_ESP_WIFI_HEAP_SYSTEM=y

# Network Connection Manager
CONFIG_NET_CONNECTION_MANAGER=y
CONFIG_NET_CONFIG_SETTINGS=y

# Network stack sizes
CONFIG_NET_TX_STACK_SIZE=2048
CONFIG_NET_RX_STACK_SIZE=2048
CONFIG_NET_PKT_RX_COUNT=10
CONFIG_NET_PKT_TX_COUNT=10
CONFIG_NET_BUF_RX_COUNT=20
CONFIG_NET_BUF_TX_COUNT=20
CONFIG_NET_MAX_CONTEXTS=10
CONFIG_NET_L2_ETHERNET=y

# Heap size for WiFi
CONFIG_HEAP_MEM_POOL_SIZE=51200

# Main stack size (increase if needed)
CONFIG_MAIN_STACK_SIZE=4096